<!DOCTYPE html>
<html>
	<head>
		<style>
			.grid-container {
	  			display: grid;
	  			grid-template-columns: auto auto auto auto auto auto;
			}
			.grid-item {
	  			background-color: rgba(255, 255, 255, 0.8);
	  			border-right: 1px solid rgba(0, 0, 0, 0.8);
	  			border-left: 1px solid rgba(0, 0, 0, 0.8);
	  			border-bottom: 1px solid rgba(0, 0, 0, 0.8);
	  			border-top: 1px solid rgba(0, 0, 0, 0.8);
	  			padding: 20px;
	  			height:50px;
	  			font-size: 30px;
	  			text-align: center;
			}
		</style>
	</head>
	<body>
		<div class="grid-container" id = "gridContainer">
			<div id="1" class="grid-item"></div>
			<div id="2" class="grid-item"></div>
			<div id="3" class="grid-item"></div>
			<div id="4" class="grid-item"></div>
			<div id="5" class="grid-item"></div>
			<div id="6" class="grid-item"></div>
			<div id="7" class="grid-item"></div>
			<div id="8" class="grid-item"></div>
			<div id="9" class="grid-item"></div>
			<div id="10" class="grid-item"></div>
			<div id="11" class="grid-item"></div>
			<div id="12" class="grid-item"></div>
			<div id="13" class="grid-item"></div>
			<div id="14" class="grid-item"></div>
			<div id="15" class="grid-item"></div>
			<div id="16" class="grid-item"></div>
			<div id="17" class="grid-item"></div>
			<div id="18" class="grid-item"></div>
			<div id="19" class="grid-item"></div>
			<div id="20" class="grid-item"></div>
			<div id="21" class="grid-item"></div>
			<div id="22" class="grid-item"></div>
			<div id="23" class="grid-item"></div>
			<div id="24" class="grid-item"></div>
		</div>
	</body>

	<script>
		var noLeft = [1,7,13,19]
		var noRight = [6,12,18,24]
		var noTop = [1,2,3,4,,5,6]
		var noBottom = [19,20,21,22,23,24]
		var whichSide
		var squareNum
		var otherSquareNum
		var fiveColours = []

		var pairs = {pair1:[0,0], pair2:[0,0], pair3:[0,0], pair4:[0,0]}
		var listOfAllJoins = []

		var grey = "#858585"
		var purple = "#8000ff" 
		var yellow = "#fff700"
		var white = "#ffffff"
		var pink = "#ff8ad0"
		var red = "#ff0000"
		var blue = "#0000ff"
		var green = "#00ff00"

		var colourList = [grey,purple,yellow,white,pink,red,blue,green]
		v = 1
		while(v <= 5){
			var randIndex = Math.floor(Math.random() * 8)
			fiveColours.push(colourList[randIndex])
			v++
		}
 	
		joinSquares()
		colourSquares()

		function joinSquares(){
			a  = true
			for (var pairNum = 1; pairNum <= 4; pairNum++){			
				while(a == true){
					squareNum = Math.floor(Math.random() * 24) + 1
					whichSide = Math.floor(Math.random() * 4) + 1

					otherSquareNum = squareNum - 6
					if(whichSide == 1 && noTop.indexOf(squareNum) == -1 && noBottom.indexOf(otherSquareNum) == -1){
						document.getElementById(JSON.stringify(squareNum)).style = "border-top: 1px solid rgba(255, 255, 255, 0.8)"
						document.getElementById(JSON.stringify(otherSquareNum)).style = "border-bottom: 1px solid rgba(255, 255, 255, 0.8)"
						a = false
						addToLists(squareNum, otherSquareNum)
						break
					} 
					otherSquareNum = squareNum + 1
					if(whichSide == 2 && noRight.indexOf(squareNum) == -1 && noLeft.indexOf(otherSquareNum) == -1){
						document.getElementById(JSON.stringify(squareNum)).style = "border-right: 1px solid rgba(255, 255, 255, 0.8)"
						document.getElementById(JSON.stringify(otherSquareNum)).style = "border-left: 1px solid rgba(255, 255, 255, 0.8)"
						a = false
						addToLists(squareNum, otherSquareNum)
						break
					}
					otherSquareNum = squareNum + 6
					if(whichSide == 3 && noBottom.indexOf(squareNum) == -1 && noTop.indexOf(otherSquareNum) == -1){
						document.getElementById(JSON.stringify(squareNum)).style = "border-bottom: 1px solid rgba(255, 255, 255, 0.8)"
						document.getElementById(JSON.stringify(otherSquareNum)).style = "border-top: 1px solid rgba(255, 255, 255, 0.8)"
						a = false
						addToLists(squareNum, otherSquareNum)
						break
					}
					otherSquareNum = squareNum - 1
					if(whichSide == 4 && noLeft.indexOf(squareNum) == -1 && noRight.indexOf(otherSquareNum) == -1){
						document.getElementById(JSON.stringify(squareNum)).style = "border-left: 1px solid rgba(255, 255, 255, 0.8)"
						document.getElementById(JSON.stringify(otherSquareNum)).style = "border-right: 1px solid rgba(255, 255, 255, 0.8)"
						a = false
						addToLists(squareNum, otherSquareNum)
						break
					}
				}
				a = true
				if(pairNum == 1){
					pairs.pair1[0] = squareNum
					pairs.pair1[1] = otherSquareNum
					listOfAllJoins.push(squareNum)
					listOfAllJoins.push(otherSquareNum)
				} else if(pairNum == 2){
					pairs.pair2[0] = squareNum
					pairs.pair2[1] = otherSquareNum
					listOfAllJoins.push(squareNum)
					listOfAllJoins.push(otherSquareNum)
				} else if(pairNum == 3){
					pairs.pair3[0] = squareNum
					pairs.pair3[1] = otherSquareNum
					listOfAllJoins.push(squareNum)
					listOfAllJoins.push(otherSquareNum)
				} else if(pairNum == 4){
					pairs.pair4[0] = squareNum
					pairs.pair4[1] = otherSquareNum
					listOfAllJoins.push(squareNum)
					listOfAllJoins.push(otherSquareNum)
				}
			}
			console.log(pairs)
		}

		function addToLists(squareNum, otherSquareNum){
			noLeft.push(squareNum)
			noLeft.push(otherSquareNum)			
			noRight.push(squareNum)
			noRight.push(otherSquareNum)
			noTop.push(squareNum)
			noTop.push(otherSquareNum)			
			noBottom.push(squareNum)
			noBottom.push(otherSquareNum)
		}
		
		function colourSquares(){
			i = 1
			for(i = 1; i <= 24; i++){
				colour = Math.floor(Math.random() * 5) + 1
				var currentColour
				if(colour == 1){
					currentColour = fiveColours[0]
				} else if (colour == 2){
					currentColour = fiveColours[1]
				} else if (colour == 3){
					currentColour = fiveColours[2]
				} else if (colour == 4){
					currentColour = fiveColours[3]
				} else if (colour == 5){
					currentColour = fiveColours[4]
				}
				if(listOfAllJoins.indexOf(i) == -1){
					document.getElementById(JSON.stringify(i)).style.backgroundColor = currentColour
				} else {
					if(pairs.pair1.indexOf(i) != -1){
						for(f in pairs.pair1){
							document.getElementById(JSON.stringify(pairs.pair1[f])).style.backgroundColor = currentColour
						}
					} else if(pairs.pair2.indexOf(i) != -1){
						for(f in pairs.pair2){
							document.getElementById(JSON.stringify(pairs.pair2[f])).style.backgroundColor = currentColour
						}
					} else if(pairs.pair3.indexOf(i) != -1){
						for(f in pairs.pair3){
							document.getElementById(JSON.stringify(pairs.pair3[f])).style.backgroundColor = currentColour
						}
					} else if(pairs.pair4.indexOf(i) != -1){
						for(f in pairs.pair4){
							document.getElementById(JSON.stringify(pairs.pair4[f])).style.backgroundColor = currentColour
						}
					}
				}
			}
		} 


	</script>
</html>